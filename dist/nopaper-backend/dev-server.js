const express=require("express"),bodyParser=require("body-parser"),config_dorenv=require("dotenv-safe").config(),jwt=require("jsonwebtoken");var cors=require("cors");const routes=require("./routes/routes"),app=express(),mongoose=require("mongoose");let url="mongodb://localhost:27017/nopaper",mongoDB=process.env.MONGODB_URI||url;mongoose.connect(mongoDB,{useNewUrlParser:!0}),mongoose.Promise=global.Promise;let db=mongoose.connection;db.on("error",console.error.bind(console,"Erro na Ligação ao MongoDB")),app.use(cors()),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!0})),app.use("/",routes);let porto=8e3;app.listen(porto,()=>{console.log("Servidor em execução no porto: "+porto)});